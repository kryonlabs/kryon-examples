style "app_base" {
    background_color: "#191919FF"
    text_color: "#FFFFFFFF"
    display: flex
    flex_direction: column
    align_items: center
    justify_content: center
}

style "counter_container" {
    background_color: "#2C2C2CFF"
    border_width: 2
    border_color: "#444444FF"
    border_radius: 8
    padding: 20
    display: flex
    flex_direction: column
    align_items: center
    gap: 15
}

style "counter_display" {
    background_color: "#1E1E1EFF"
    text_color: "#00FF88FF"
    font_size: 48
    text_alignment: center
    padding: 10
    border_width: 1
    border_color: "#666666FF"
    border_radius: 4
    min_width: 150
    min_height: 80
}

style "button_row" {
    display: flex
    flex_direction: row
    gap: 20
    align_items: center
    justify_content: center
}

style "counter_button" {
    background_color: "#0066CCFF"
    text_color: "#FFFFFFFF"
    font_size: 24
    text_alignment: center
    border_width: 0
    border_radius: 6
    width: 60
    height: 50
    
    &:hover {
        background_color: "#0077DDFF"
    }
    
    &:active {
        background_color: "#004499FF"
    }
}

style "reset_button" {
    background_color: "#CC3300FF"
    text_color: "#FFFFFFFF"
    font_size: 16
    text_alignment: center
    border_width: 0
    border_radius: 4
    width: 80
    height: 40
    
    &:hover {
        background_color: "#DD4411FF"
    }
    
    &:active {
        background_color: "#BB2200FF"
    }
}


@variables {
    counter_value: 0
}


App {
    window_width: 400
    window_height: 300
    window_title: "Counter Example"
    resizable: true
    keep_aspect_ratio: false
    style: "app_base"

    Container {
        id: "counter_main"
        style: "counter_container"

        # Counter Display
        Text {
            id: "counter_display"
            text: "0"
            style: "counter_display"
        }

        # Button Row
        Container {
            id: "button_container"
            style: "button_row"

            Button {
                id: "decrement_btn"
                text: "-"
                style: "counter_button"
                onClick: "decrement"
            }

            Button {
                id: "increment_btn"
                text: "+"
                style: "counter_button"
                onClick: "increment"
            }

            Button {
                id: "reset_btn"
                text: "Reset"
                style: "reset_button"
                onClick: "reset"
            }
        }
    }
}


@function "lua" increment() {
    if counter_value == nil then
        counter_value = 0
    end
    
    counter_value = counter_value + 1
    print("Counter incremented to: " .. counter_value)
    
    local display = getElementById("counter_display")
    if display then 
        display:setText(tostring(counter_value))
    end
}

@function "lua" decrement() {
    if counter_value == nil then
        counter_value = 0
    end
    
    counter_value = counter_value - 1
    print("Counter decremented to: " .. counter_value)
    
    local display = getElementById("counter_display")
    if display then 
        display:setText(tostring(counter_value))
    end
}

@function "lua" reset() {
    if counter_value == nil then
        counter_value = 0
    end
    
    counter_value = 0
    print("Counter reset to: " .. counter_value)
    
    local display = getElementById("counter_display")
    if display then 
        display:setText(tostring(counter_value))
    end
}
